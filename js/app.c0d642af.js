(function(e){function t(t){for(var a,o,i=t[0],l=t[1],u=t[2],p=0,d=[];p<i.length;p++)o=i[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);s&&s(t);while(d.length)d.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,i=1;i<n.length;i++){var l=n[i];0!==r[l]&&(a=!1)}a&&(c.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={app:0},c=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var s=l;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"11eb":function(e){e.exports=JSON.parse('[[{"x":0,"y":2},{"x":1,"y":2},{"x":2,"y":1},{"x":3,"y":4},{"x":4,"y":0},{"x":5,"y":1}],[{"x":0,"y":0},{"x":1,"y":1},{"x":2,"y":1},{"x":3,"y":8},{"x":4,"y":6},{"x":5,"y":2}],[{"x":0,"y":1},{"x":1,"y":3},{"x":2,"y":2},{"x":3,"y":3},{"x":4,"y":2},{"x":5,"y":1}],[{"x":0,"y":0},{"x":1,"y":0},{"x":2,"y":0},{"x":3,"y":1},{"x":4,"y":3},{"x":5,"y":2}],[{"x":0,"y":3},{"x":1,"y":1},{"x":2,"y":3},{"x":3,"y":2},{"x":4,"y":1},{"x":5,"y":0}],[{"x":0,"y":2},{"x":1,"y":2},{"x":2,"y":1},{"x":3,"y":4},{"x":4,"y":0},{"x":5,"y":1}],[{"x":0,"y":2},{"x":1,"y":2},{"x":2,"y":1},{"x":3,"y":4},{"x":4,"y":0},{"x":5,"y":1}],[{"x":0,"y":2},{"x":1,"y":2},{"x":2,"y":1},{"x":3,"y":4},{"x":4,"y":0},{"x":5,"y":1}],[{"x":0,"y":8},{"x":1,"y":1},{"x":2,"y":7},{"x":3,"y":1},{"x":4,"y":9},{"x":5,"y":2}],[{"x":0,"y":0},{"x":1,"y":1},{"x":2,"y":3},{"x":3,"y":2},{"x":4,"y":1},{"x":5,"y":0}]]')},"2c13":function(e,t,n){"use strict";n("48e7")},3015:function(e,t,n){},"48e7":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),r=(n("a434"),{id:"cm-page-outer"}),c={id:"cm-toolpanel"},o={class:"tp-entry"},i={class:"tp-entry"},l=Object(a["e"])("span",null,"Type of data",-1),u={class:"tp-entry"},s=Object(a["e"])("span",null,"Type of colour map",-1),p={key:0,class:"customise-row"},d={class:"middle-picker-outer"},h=Object(a["e"])("div",{id:"cm-preview"},null,-1);function f(e,t,n,f,b,y){var m=Object(a["i"])("ToolSection"),v=Object(a["i"])("ColourmapList"),g=Object(a["i"])("ColourmapCustomise"),x=Object(a["i"])("ButtonMenu"),O=Object(a["i"])("ColorPicker");return Object(a["f"])(),Object(a["c"])("div",r,[Object(a["e"])("div",c,[Object(a["e"])(m,{title:"Specify your problem"},{default:Object(a["n"])((function(){return[Object(a["e"])("div",o,[Object(a["e"])("span",null,"Number of data classes "+Object(a["j"])(b.nFeatures),1),Object(a["o"])(Object(a["e"])("input",{type:"range","onUpdate:modelValue":t[1]||(t[1]=function(e){return b.nFeatures=e}),min:"2",max:"8",step:"1"},null,512),[[a["l"],b.nFeatures,void 0,{number:!0}]])]),Object(a["e"])("div",i,[l,Object(a["o"])(Object(a["e"])("select",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return b.dataType=e})},[(Object(a["f"])(!0),Object(a["c"])(a["a"],null,Object(a["g"])(b.dataTypeOptions,(function(e){return Object(a["f"])(),Object(a["c"])("option",{key:e},Object(a["j"])(e),1)})),128))],512),[[a["k"],b.dataType]])]),Object(a["e"])("div",u,[s,Object(a["o"])(Object(a["e"])("select",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return b.cmType=e})},[(Object(a["f"])(!0),Object(a["c"])(a["a"],null,Object(a["g"])(b.cmTypeOptions,(function(e){return Object(a["f"])(),Object(a["c"])("option",{key:e},Object(a["j"])(e),1)})),128))],512),[[a["k"],b.cmType]])])]})),_:1}),Object(a["e"])(m,{title:"Choose a colour map"},{default:Object(a["n"])((function(){return[Object(a["e"])(v,{maps:y.currentMaps,nFeatures:b.nFeatures,onSelect:y.setSelectedCM},null,8,["maps","nFeatures","onSelect"])]})),_:1}),Object(a["e"])(m,{title:"Make it your own!"},{default:Object(a["n"])((function(){return[b.selectedCM?(Object(a["f"])(),Object(a["c"])("div",p,[Object(a["e"])(g,{map:b.selectedCM,nFeatures:b.nFeatures,onCopyColour:y.copyColour,onToggleLock:t[4]||(t[4]=function(e){return b.selectedCM.toggleLock(e)}),onRemoveAt:t[5]||(t[5]=function(e){return b.selectedCM.colours.splice(e,1)}),onAddAt:t[6]||(t[6]=function(e){return b.selectedCM.addAt(e)}),onChangeAt:y.changeColourAt,editable:"Qualitative"==b.cmType},null,8,["map","nFeatures","onCopyColour","onChangeAt","editable"]),Object(a["e"])(x,{map:b.selectedCM,onSetTo:y.setMapColours},null,8,["map","onSetTo"])])):Object(a["d"])("",!0),Object(a["e"])("div",d,[Object(a["o"])(Object(a["e"])(O,{label:"Middle",ref:"cpMid",onChanged:t[7]||(t[7]=function(e){return y.changeMidColour(e,!0)})},null,512),[[a["m"],"Diverging"==b.cmType]])])]})),_:1})]),h])}n("4de4"),n("7db0"),n("4160"),n("d81d"),n("fb6a"),n("159b");var b=n("5698"),y=n("6e19"),m=n("728d"),v=n("11eb"),g=(n("d3b7"),n("6062"),n("3ca3"),n("ddb0"),n("bee2")),x=n("262e"),O=n("2caf"),j=n("d4ec"),C=n("2909"),k=n("eb46"),M=n.n(k);n("99af"),n("25f0");function T(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style={position:"absolute",left:"-9999px"},document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}function w(e,t){return t||(t=e,e=0),e+Math.floor(Math.random()*(t-e))}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};if(0==e.length)return{min:0,max:0};for(var n=t(e[0]),a=t(e[0]),r=1;r<e.length;r++){var c=t(e[r]);c<n&&(n=c),c>a&&(a=c)}return{min:n,max:a}}function A(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2))}function E(e){return[Math.floor(e[0]),Math.floor(e[1]),Math.floor(e[2])]}function D(e){return[+("0x"+e.slice(1,3)),+("0x"+e.slice(3,5)),+("0x"+e.slice(5,7))]}function I(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function F(e){return("#"+I(e[0])+I(e[1])+I(e[2])).toUpperCase()}function $(e){return"rgb(".concat(e[0],",").concat(e[1],",").concat(e[2],")")}function Q(e,t,n,a){return Object(C["a"])(Array(3).keys()).map((function(r){return e[r]+(t[r]-e[r])*(a/n)}))}function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return[w(e,t),w(-100,100),w(-100,100)]}var q=function e(){if(Object(j["a"])(this,e),void 0==this.getMap)throw new TypeError("Must override getMap method");if(void 0==this.getCopy)throw new TypeError("Must override getCopy method")},P=function(e){Object(x["a"])(n,e);var t=Object(O["a"])(n);function n(e,a,r){var c;if(Object(j["a"])(this,n),c=t.call(this),e&&a)r?(c.start=e,c.end=a):(c.start=M.a.rgb.lab(e),c.end=M.a.rgb.lab(a));else{var o,i=80,l=180,u=B();while(1){o=B();var s=A(u,o);if(s>i&&s<l)break}c.start=u,c.end=o}return c}return Object(g["a"])(n,[{key:"getMap",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[],a=0;a<e;a++){var r=Q(this.start,this.end,e-1,a);if(t){var c=M.a.lab.rgb(r).map((function(e){return Math.round(e)}));n.push({rgb:c,style:$(c),hex:F(c)})}else n.push(r)}return n}},{key:"getCopy",value:function(){return new n(this.start,this.end)}}]),n}(q),_=function(e){Object(x["a"])(n,e);var t=Object(O["a"])(n);function n(e,a,r,c){var o;return Object(j["a"])(this,n),o=t.call(this),o.start=e?c?e:M.a.rgb.lab(e):B(30,60),o.mid=a?c?a:M.a.rgb.lab(a):M.a.rgb.lab([255,255,255]),o.end=r?c?r:M.a.rgb.lab(r):B(30,60),o}return Object(g["a"])(n,[{key:"getMap",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[],a=Math.floor(e/2),r=0;r<e;r++){var c=null;if(e%2==1&&r==a)c=this.mid;else if(r<a)c=Q(this.start,this.mid,a,r);else{var o=r-a+(e%2==1?0:1);c=Q(this.mid,this.end,a,o)}if(t){var i=M.a.lab.rgb(c).map((function(e){return Math.round(e)}));n.push({rgb:i,style:$(i),hex:F(i)})}else n.push(c)}return n}},{key:"getCopy",value:function(){return new n(this.start,this.mid,this.end)}}]),n}(q);function L(e,t){var n,a,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;if(t||(t=new Set),0==t.size||null==r)n=40,a=90;else{n=100,a=0;var o=30;if(t.forEach((function(e){r[e][0]<n&&(n=r[e][0]),r[e][0]>a&&(a=r[e][0])})),a-n<o){var i=o-(a-n);if(n>i/2&&a<100-i/2)n-=i/2,a+=i/2;else{var l=Math.min(i,100-a);a=100,n-=l-i}}}for(var u=[],s=0;s<e;s++)r&&t.has(s)?u.push(r[s].map((function(e){return e}))):u.push(B(n,a));var p=7;function d(e){for(var t=[],r=0;r<3;r++)t.push(e[r]+w(-p,p)),0==r?t[r]<n?t[r]=n:t[r]>a&&(t[r]=a):t[r]<-100?t[r]=-100:t[r]>100&&(t[r]=100);return t}function h(n){for(var a=[],r=0;r<e;r++)t.has(r)?a.push(n[r]):a.push(d(n[r]));return a}function f(t){for(var n=1e4,a=0;a<e-1;a++)for(var r=a+1;r<e;r++){var c=A(t[a],t[r]);c<n&&(n=c)}return n}var b=[];for(s=0;s<100;s++)b.push(h(u,!1));b.sort((function(e,t){return f(t)-f(e)}));for(var y=0;y<c;y++){for(s=10;s<b.length;s++)b[s]=h(b[s%10],!1);b.sort((function(e,t){return f(t)-f(e)}))}return b[0]}var G=function(e){Object(x["a"])(n,e);var t=Object(O["a"])(n);function n(e){var a;return Object(j["a"])(this,n),a=t.call(this),a.colours=L(e),a}return Object(g["a"])(n,[{key:"getMap",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e<=this.colours.length?this.colours.slice(0,e).map((function(e){if(!t)return e;var n=E(M.a.lab.rgb(e));return{rgb:n,style:$(n),hex:F(n)}})):null}},{key:"getCopy",value:function(){return new n(this.colours)}}]),n}(q),N=function(e){Object(x["a"])(n,e);var t=Object(O["a"])(n);function n(e,a,r){var c;return Object(j["a"])(this,n),c=t.call(this),c.locked=new Set,c.colours=e.getMap(a,!1),c.mapType=r,c}return Object(g["a"])(n,[{key:"getColours",value:function(e,t){return e&&("Sequential"==this.mapType?this.colours=new P(this.colours[0],this.colours[this.colours.length-1],!0).getMap(e,!1):"Diverging"==this.mapType&&(this.colours=new _(this.colours[0],M.a.rgb.lab(t),this.colours[this.colours.length-1],!0).getMap(e,!1))),this.colours.map((function(e){var t=E(M.a.lab.rgb(e));return{rgb:t,style:$(t),hex:F(t)}}))}},{key:"toggleLock",value:function(e){this.locked.has(e)?this.locked.delete(e):this.locked.add(e)}},{key:"addAt",value:function(e){var t=this.colours.map((function(e){return e}));t.splice(e,0,[w(50,100),w(-100,100),w(-100,100)]);for(var n=new Set,a=0;a<t.length;a++)a!=e&&n.add(a);this.colours=L(t.length,n,t)}},{key:"changeAt",value:function(e,t){this.colours[e]=M.a.rgb.lab(D(t))}},{key:"generateNew",value:function(){return L(this.colours.length,this.locked,this.colours)}},{key:"getColoursCopy",value:function(){return this.colours.map((function(e){return e}))}}]),n}(G),J={class:"cm-selection"},R={class:"cm-col"},U={class:"cm-col"};function V(e,t,n,r,c,o){return Object(a["f"])(),Object(a["c"])("div",J,[Object(a["e"])("div",R,[(Object(a["f"])(!0),Object(a["c"])(a["a"],null,Object(a["g"])(n.maps.slice(0,o.half),(function(t){return Object(a["f"])(),Object(a["c"])("div",{key:t,class:"colourmap-preview",onClick:function(n){return e.$emit("select",t)}},[(Object(a["f"])(!0),Object(a["c"])(a["a"],null,Object(a["g"])(t.getMap(n.nFeatures),(function(e){return Object(a["f"])(),Object(a["c"])("div",{key:"".concat(t,"-").concat(e),class:"colourmap-part",style:"background:".concat(e.style)},null,4)})),128))],8,["onClick"])})),128))]),Object(a["e"])("div",U,[(Object(a["f"])(!0),Object(a["c"])(a["a"],null,Object(a["g"])(n.maps.slice(o.half),(function(t){return Object(a["f"])(),Object(a["c"])("div",{key:t,class:"colourmap-preview",onClick:function(n){return e.$emit("select",t)}},[(Object(a["f"])(!0),Object(a["c"])(a["a"],null,Object(a["g"])(t.getMap(n.nFeatures),(function(e){return Object(a["f"])(),Object(a["c"])("div",{key:"".concat(t,"-").concat(e),class:"colourmap-part",style:"background:".concat(e.style)},null,4)})),128))],8,["onClick"])})),128))])])}n("a9e3");var z={props:{maps:Array,nFeatures:Number},computed:{half:function(){return Math.ceil(this.maps.length/2)}}};n("f2c8");z.render=V;var Y=z,H={key:0,class:"fr fjc"};function K(e,t,n,r,c,o){return Object(a["f"])(),Object(a["c"])("div",{id:"sel-cm-preview",onMouseleave:t[1]||(t[1]=function(e){return c.hoverIndex=-1})},[Object(a["e"])("input",{type:"color",onchange:o.onInputChange,ref:"changeColourInput"},null,8,["onchange"]),(Object(a["f"])(!0),Object(a["c"])(a["a"],null,Object(a["g"])(o.elems,(function(t){return Object(a["f"])(),Object(a["c"])("div",{key:t,class:{"sel-cm-part":"col"==t.type,"add-btn":"add"==t.type,expanded:"col"==t.type&&c.hoverIndex==t.index},style:"col"==t.type?"background:".concat(t.colour.hex,";color:").concat(c.hoverIndex!=t.index?"#0000":o.fontColour(t.colour.rgb)):"",onMouseenter:function(e){return o.mouseEnterPart(t)}},["col"==t.type?(Object(a["f"])(),Object(a["c"])("div",H,["Qualitative"==o.mapType?(Object(a["f"])(),Object(a["c"])("i",{key:0,class:"material-icons unselectable btn",onClick:function(n){return e.$emit("remove-at",t.index)}}," cancel ",8,["onClick"])):Object(a["d"])("",!0),"Qualitative"==o.mapType?(Object(a["f"])(),Object(a["c"])("i",{key:1,class:"material-icons unselectable btn",onClick:function(n){return e.$emit("toggle-lock",t.index)}},Object(a["j"])(n.map.locked.has(t.index)?"lock_outline":"lock_open"),9,["onClick"])):Object(a["d"])("",!0),Object(a["e"])("i",{class:"material-icons unselectable btn",onClick:function(n){return e.$emit("copy-colour",t.colour.hex)}}," content_copy ",8,["onClick"])])):Object(a["d"])("",!0),"col"==t.type&&c.hoverIndex==t.index?(Object(a["f"])(),Object(a["c"])("div",{key:1,class:["part-hex unselectable",{"hex-clickable":t.editable}],onClick:function(e){return o.changeColourAt(t.index,t.colour.hex)}},Object(a["j"])(t.colour.hex),11,["onClick"])):Object(a["d"])("",!0),"add"==t.type&&"Qualitative"==o.mapType?(Object(a["f"])(),Object(a["c"])("i",{key:2,class:"material-icons unselectable btn",onClick:function(n){return e.$emit("add-at",t.index)}}," add_circle ",8,["onClick"])):Object(a["d"])("",!0)],46,["onMouseenter"])})),128))],32)}n("13d5");var W={props:{nFeatures:Number,map:Object},data:function(){return{hoverIndex:1,changingIndex:-1}},methods:{mouseEnterPart:function(e){"col"==e.type&&(this.hoverIndex=e.index)},colourIsEditable:function(e){var t=this.map.colours.length;return"Qualitative"==this.map.mapType||(0==e||e==t-1||"Diverging"==this.map.mapType&&t%2==1&&2*e+1==t)},fontColour:function(e){var t=e.reduce((function(e,t){return e+t}));return t>382.5?"black":"white"},changeColourAt:function(e,t){this.colourIsEditable(e)&&(this.changingIndex=e,this.$refs.changeColourInput.value=t,this.$refs.changeColourInput.click())},onInputChange:function(e){this.$emit("change-at",this.changingIndex,e.target.value.toUpperCase())}},computed:{elems:function(){var e=this,t=this.map.getColours();if(!this.map.colours)return[];var n=[];return"Qualitative"==this.map.mapType&&n.push({type:"add",index:0}),t.forEach((function(t,a){n.push({type:"col",index:a,colour:t,editable:e.colourIsEditable(a)}),"Qualitative"==e.map.mapType&&n.push({type:"add",index:a+1})})),n},mapType:function(){return this.map.mapType}}};n("d967");W.render=K;var X=W,Z={class:"btn-menu-outer"};function ee(e,t,n,r,c,o){return Object(a["f"])(),Object(a["c"])("div",Z,["Qualitative"==n.map.mapType?(Object(a["f"])(),Object(a["c"])("i",{key:0,class:["material-icons unselectable btn",{unavailable:0==c.previous.length}],onClick:t[1]||(t[1]=function(){return o.undo.apply(o,arguments)})},"undo",2)):Object(a["d"])("",!0),"Qualitative"==n.map.mapType?(Object(a["f"])(),Object(a["c"])("i",{key:1,class:"material-icons unselectable btn",onClick:t[2]||(t[2]=function(){return o.generate.apply(o,arguments)})},"palette")):Object(a["d"])("",!0),Object(a["e"])("i",{class:"material-icons unselectable btn",onClick:t[3]||(t[3]=function(){return o.download.apply(o,arguments)})},"download")])}n("a15b");var te=n("c4e3a"),ne=n.n(te),ae=n("21a6"),re={props:{map:Object},data:function(){return{previous:[]}},methods:{undo:function(){if(0!=this.previous.length){var e=this.previous.pop();this.$emit("set-to",e)}},generate:function(){this.previous.push(this.map.getColoursCopy());var e=this.map.generateNew();this.$emit("set-to",e)},download:function(){var e=new ne.a,t=this.map.getColours(),n=function(e){return{rgb:e.rgb,hex:e.hex}};e.file("colourmap-array.json",JSON.stringify(t.map((function(e){return n(e)}))));for(var a={},r=0;r<t.length;r++)a["color".concat(r+1)]=n(t[r]);e.file("colourmap-obj.json",JSON.stringify(a)),e.file("colourmap-styles.css",t.map((function(e,t){return".col-".concat(t+1," {\n\tcolor:").concat(e.hex,";\n}\n.bg-").concat(t+1," {\n\tbackground:").concat(e.hex,";\n}\n")})).join("")),e.file("colourmap-vars.scss",t.map((function(e,t){return"$color-".concat(t+1,": ").concat(e.hex,";\n")})).join("")),e.generateAsync({type:"blob"}).then((function(e){Object(ae["saveAs"])(e,"colourmap-files.zip")}))}}};n("8264");re.render=ee;var ce=re,oe={class:"tool-section"},ie={class:"ts-title"},le={class:"ts-content"};function ue(e,t,n,r,c,o){return Object(a["f"])(),Object(a["c"])("div",oe,[Object(a["e"])("div",ie,[Object(a["e"])("h2",null,Object(a["j"])(n.title),1)]),Object(a["e"])("div",le,[Object(a["h"])(e.$slots,"default")])])}var se={props:{title:String}};n("2c13");se.render=ue;var pe=se,de={class:"color-picker"},he={key:0,class:"cp-label"},fe={class:"cp-hex"};function be(e,t,n,r,c,o){return Object(a["f"])(),Object(a["c"])("div",de,[n.label?(Object(a["f"])(),Object(a["c"])("div",he,Object(a["j"])(n.label),1)):Object(a["d"])("",!0),Object(a["e"])("div",{class:"cp-preview",style:"background:".concat(c.hex),onClick:t[1]||(t[1]=function(t){return e.$refs.colInput.click()})},null,4),Object(a["e"])("input",{type:"color",value:c.hex,onchange:o.onInputChange,ref:"colInput"},null,8,["value","onchange"]),Object(a["e"])("div",fe,Object(a["j"])(c.hex),1)])}var ye={props:{label:{type:String,default:null}},data:function(){return{hex:"#ff0000"}},methods:{onInputChange:function(e){this.hex=e.target.value.toUpperCase(),this.$emit("changed",D(this.hex))},setFromRGB:function(e){this.hex=F(E(e))}}};n("a19b");ye.render=be;var me=ye,ve={name:"App",components:{ColourmapList:Y,ColourmapCustomise:X,ButtonMenu:ce,ToolSection:pe,ColorPicker:me},data:function(){return{nFeatures:4,dataType:"Bar Chart",dataTypeOptions:["Bar Chart","Graph","Line Chart"],cmType:"Sequential",cmTypeOptions:["Sequential","Diverging","Qualitative"],midRGB:[255,255,255],sequentialMaps:[new P([255,210,210],[255,30,30]),new P([210,255,210],[30,255,30]),new P([210,210,255],[30,30,255]),new P([200,200,200],[30,30,30]),new P([230,230,20],[180,30,180]),new P([70,10,230],[130,210,30])],divergingMaps:[new _([255,0,0],[255,255,255],[0,255,0]),new _([255,255,50],[255,255,255],[180,30,180]),new _([30,30,210],[255,255,255],[210,30,30]),new _([70,90,190],[255,255,255],[240,215,45]),new _([255,140,30],[255,255,255],[0,255,0]),new _([230,30,140],[255,255,255],[70,240,10])],qualitativeMaps:[new G(4),new G(4),new G(4),new G(4),new G(4),new G(4)],selectedCM:null,exampleDims:{margin:{top:20,right:20,bottom:30,left:40},width:500,height:500},exampleElems:{x:null,y:null,svg:null}}},computed:{currentMaps:function(){return"Sequential"==this.cmType?this.sequentialMaps:"Diverging"==this.cmType?this.divergingMaps:this.qualitativeMaps}},created:function(){this.exampleDims.width-=this.exampleDims.margin.left-this.exampleDims.margin.right,this.exampleDims.height-=this.exampleDims.margin.top-this.exampleDims.margin.bottom},mounted:function(){this.setSelectedCM(this.sequentialMaps[0],!1),this.generateExample()},methods:{changeColourAt:function(e,t){this.selectedCM.changeAt(e,t),this.updateExampleColours()},changeMidColour:function(e,t){this.midRGB=e,this.$refs.cpMid.setFromRGB(e),t&&(this.selectedCM.mid=M.a.rgb.lab(e),this.updateExampleColours())},generateExample:function(){var e=this,t=this.exampleDims,n=t.margin,a=t.width,r=t.height,c=b["h"]("#cm-preview").select("svg");c&&c.remove();var o,i,l=b["h"]("#cm-preview").append("svg").attr("width",a+n.left+n.right).attr("height",r+n.top+n.bottom).append("g").attr("transform","translate("+n.left+","+n.top+")"),u=this.generateData();if("Bar Chart"==this.dataType)o=b["f"]().range([0,a]).padding(.1),i=b["g"]().range([r,0]),o.domain(u.map((function(e){return e.city}))),i.domain([0,b["e"](u,(function(e){return e.value}))]),l.selectAll(".bar").data(u).enter().append("rect").attr("class","bar"),this.$nextTick((function(){e.updateSelection(l.selectAll(".bar").data(u))})),l.append("g").attr("id","x-axis").attr("transform","translate(0,"+r+")").call(b["a"](o)),l.append("g").attr("id","y-axis").call(b["b"](i));else if("Graph"==this.dataType)l.selectAll(".edge").data(u.edges).enter().append("line").attr("class","edge"),l.selectAll(".node").data(u.nodes).enter().append("circle").attr("r",(function(e){return e.r})).attr("class","node"),this.$nextTick((function(){e.updateSelection([l.selectAll(".edge").data(u.edges),l.selectAll(".node").data(u.nodes)])}));else if("Line Chart"==this.dataType){o=b["g"]().range([0,a]),i=b["g"]().range([r,0]),o.domain([0,5]),i.domain([0,10]),l.append("g").attr("id","x-axis").attr("transform","translate(0,"+r+")").call(b["a"](o)),l.append("g").attr("id","y-axis").call(b["b"](i));var s=b["d"]().curve(b["c"]).x((function(e){return o(e.x)})).y((function(e){return i(e.y)})),p=l.selectAll(".line-container").data(u).enter().append("g").attr("class","line-container");p.append("path").attr("class","line").style("stroke",(function(e){return e.color})).attr("d",(function(e){return s(e.data)})),this.$nextTick((function(){e.updateSelection(l.selectAll(".line-container").data(u))}))}this.exampleElems.x=o,this.exampleElems.y=i,this.exampleElems.svg=l},updateExampleColours:function(){var e=this.exampleElems.svg,t=this.generateData();"Bar Chart"==this.dataType?this.updateSelection(e.selectAll(".bar").data(t)):"Graph"==this.dataType?this.updateSelection([e.selectAll(".edge").data(t.edges),e.selectAll(".node").data(t.nodes)]):"Line Chart"==this.dataType&&this.updateSelection(e.selectAll(".line-container").data(t))},generateData:function(){var e=this.selectedCM.getColours(this.nFeatures,this.midRGB),t=e.length;if("Bar Chart"==this.dataType){var n=y.slice(0,t),a=n.map((function(e){return e}));"Qualitative"!=this.cmType&&a.sort((function(e,t){return e.value-t.value}));for(var r={},c=0;c<t;c++)r[a[c].city]=c;return n.forEach((function(t){return t.color=e[r[t.city]].hex})),n}if("Graph"==this.dataType){var o={nodes:m.nodes.slice(0,t),edges:m.edges};if(o.edges=o.edges.filter((function(e){return e.source<o.nodes.length&&e.target<o.nodes.length})),o.edges.forEach((function(e){e.x1=o.nodes[e.source].x,e.y1=o.nodes[e.source].y,e.x2=o.nodes[e.target].x,e.y2=o.nodes[e.target].y})),"Qualitative"==this.cmType)o.nodes.forEach((function(t,n){return t.color=e[n].hex}));else{var i=S(o.nodes,(function(e){return e.r})),l=i.min,u=i.max;o.nodes.forEach((function(t){var n=(t.r-l)/(u-l),a=Math.floor(n*e.length);t.color=e[Math.min(a,e.length-1)].hex}))}return o}if("Line Chart"==this.dataType){for(var s=[],p=0;p<t;p++)s.push(v[p]);return s=s.map((function(t,n){return{data:t,color:e[n].hex}})),s}},updateSelection:function(e){var t=this.exampleElems,n=t.x,a=t.y,r=this.exampleDims.height;if("Bar Chart"==this.dataType)e.style("fill",(function(e){return e.color})).attr("x",(function(e){return n(e.city)})).attr("width",n.bandwidth()).attr("y",(function(e){return a(e.value)})).attr("height",(function(e){return r-a(e.value)}));else if("Graph"==this.dataType)e[0].attr("x1",(function(e){return e.x1})).attr("y1",(function(e){return e.y1})).attr("x2",(function(e){return e.x2})).attr("y2",(function(e){return e.y2})),e[1].attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y})).style("fill",(function(e){return e.color}));else if("Line Chart"==this.dataType){var c=b["d"]().curve(b["c"]).x((function(e){return n(e.x)})).y((function(e){return a(e.y)}));e.select("path").style("stroke",(function(e){return e.color})).attr("d",(function(e){return c(e.data)}))}},copyColour:function(e){T(e)},setSelectedCM:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.selectedCM=new N(e,this.nFeatures,this.cmType),"Diverging"==this.cmType&&this.changeMidColour(M.a.lab.rgb(e.mid),!1),t&&this.updateExampleColours()},setMapColours:function(e){this.selectedCM.colours=e,this.updateExampleColours()}},watch:{nFeatures:function(){if("Qualitative"==this.cmType)for(var e=1;e<this.qualitativeMaps.length;e++)this.qualitativeMaps[e]=new G(this.nFeatures);this.generateExample()},dataType:function(e){var t=this;"Bar Chart"==e&&(this.cmTypeOptions=["Sequential","Diverging","Qualitative"]),"Graph"==e&&(this.cmTypeOptions=["Sequential","Diverging","Qualitative"]),"Line Chart"==e&&(this.cmTypeOptions=["Qualitative"]),this.cmTypeOptions.find((function(e){return e==t.cmType}))||(this.cmType=this.cmTypeOptions[0]),this.generateExample()},cmType:function(){this.setSelectedCM(this.currentMaps[0]),this.updateExampleColours()}}};n("f5f2");ve.render=f;var ge=ve;Object(a["b"])(ge).mount("#app")},"6e19":function(e){e.exports=JSON.parse('[{"city":"London","value":5},{"city":"Morocco","value":7},{"city":"Deli","value":6},{"city":"Paris","value":10},{"city":"Prague","value":4},{"city":"New York City","value":2},{"city":"Tel Aviv","value":8},{"city":"Berlin","value":13},{"city":"Talinn","value":4},{"city":"Tokyo","value":7}]')},"728d":function(e){e.exports=JSON.parse('{"nodes":[{"x":50,"y":50,"r":20},{"x":250,"y":150,"r":40},{"x":30,"y":190,"r":15},{"x":100,"y":240,"r":15},{"x":70,"y":120,"r":15},{"x":340,"y":90,"r":15},{"x":200,"y":320,"r":15},{"x":240,"y":30,"r":15}],"edges":[{"source":0,"target":1},{"source":0,"target":2}]}')},8264:function(e,t,n){"use strict";n("3015")},a19b:function(e,t,n){"use strict";n("bc1a")},a56c:function(e,t,n){},bc1a:function(e,t,n){},d967:function(e,t,n){"use strict";n("edba")},edba:function(e,t,n){},f2c8:function(e,t,n){"use strict";n("f46f")},f46f:function(e,t,n){},f5f2:function(e,t,n){"use strict";n("a56c")}});
//# sourceMappingURL=app.c0d642af.js.map